---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export const prerender = true;
---

<Layout
  title="TruScreen® Outdoor Blinds Canberra | Australian Made Outdoor Blind System"
  description="TruScreen eliminates gaps, sagging, and deflection with Australia's most advanced outdoor blind system. Adjustable suspension, motorisation-ready, 5-year warranty. Free measure & quote."
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-image">
        <img
          src="/assets/images/outdoor-blinds/Outdoor Motorised Blinds.webp"
          alt="TruScreen Motorised Outdoor Blinds"
          loading="eager"
          fetchpriority="high"
        />
        <div class="hero-overlay"></div>
      </div>
      <div class="container hero-container">
        <h1>TruScreen<span class="trademark">®</span> Outdoor Blinds</h1>
        <p class="hero-lead">Australia's most advanced outdoor blind system—engineered to eliminate gaps, prevent sagging, and deliver flawless performance in any weather.</p>
        <div class="hero-stats">
          <div class="stat">
            <strong>50,000+</strong>
            <span>Happy Customers</span>
          </div>
          <div class="stat">
            <strong>5-Year</strong>
            <span>Product Warranty</span>
          </div>
          <div class="stat">
            <strong>10-Year</strong>
            <span>Fabric Warranty</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Intro Section -->
    <section class="intro-section">
      <div class="container">
        <div class="intro-content">
          <h2>The gap-free difference</h2>
          <p>Most patios aren't perfectly square. Traditional outdoor blinds leave visible gaps that installers patch with foam strips—a compromise that looks unprofessional and fails over time.</p>
          <p><strong>TruScreen's patented suspension system adapts to your structure</strong>, creating a seamless, professional fit without workarounds. It's proper engineering, not a quick fix.</p>
        </div>
      </div>
    </section>

    <!-- Image + Text Feature 1 -->
    <section class="feature-section">
      <div class="container">
        <div class="feature-grid">
          <div class="feature-image-wrapper">
            <img src="/assets/images/outdoor-blinds/ASL - Outdoor Blinds.jpeg" alt="TruScreen adaptive side channels" loading="lazy" />
          </div>
          <div class="feature-text">
            <h3>Adaptive side channels</h3>
            <p>Our flexible guide system automatically compensates for structures that aren't level or square. The channels adjust during installation to create tight, professional edges—no foam fillers, no gaps, no compromises.</p>
            <ul class="feature-benefits">
              <li>Accommodates structural irregularities</li>
              <li>Maintains constant fabric tension</li>
              <li>Eliminates unsightly gap fillers</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Image + Text Feature 2 (Reversed) -->
    <section class="feature-section alt">
      <div class="container">
        <div class="feature-grid reverse">
          <div class="feature-image-wrapper">
            <img src="/assets/images/outdoor-blinds/Outdoor Motorised Blinds.webp" alt="TruScreen suspension technology" loading="lazy" />
          </div>
          <div class="feature-text">
            <h3>Impact-resistant suspension</h3>
            <p>Wind gusts and accidental bumps don't damage TruScreen blinds. Our integrated shock-absorption system allows the fabric to flex under pressure, then automatically return to position.</p>
            <ul class="feature-benefits">
              <li>Flexes with wind and impacts</li>
              <li>Self-recovering fabric system</li>
              <li>Protects your investment from damage</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Specs Grid -->
    <section class="specs-section">
      <div class="container">
        <h2>Engineering that makes the difference</h2>
        <div class="specs-grid">
          <div class="spec">
            <h4>Reinforced bottom rail</h4>
            <p>Custom-engineered to resist bending across wide spans. The concealed fabric channel hides seams for a polished finish.</p>
          </div>
          <div class="spec">
            <h4>Premium head rail</h4>
            <p>Proprietary aluminium profiles resist warping and sagging—unlike generic components in budget blinds.</p>
          </div>
          <div class="spec">
            <h4>Precision installation</h4>
            <p>Adjustment points throughout the system enable millimetre-perfect alignment on challenging structures.</p>
          </div>
          <div class="spec">
            <h4>Wind-rated construction</h4>
            <p>Tested and certified to withstand Australian wind conditions in all weather.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Motorisation Callout -->
    <section class="motorisation-callout">
      <div class="container">
        <div class="callout-content">
          <h2>Built for effortless control</h2>
          <p>TruScreen was designed for motorisation from day one. Whisper-quiet motors deliver smooth, reliable operation—control them with a wall switch, remote, smartphone app, or voice commands (Google Assistant, Siri, Alexa).</p>
        </div>
      </div>
    </section>

    <!-- Australian Made -->
    <section class="australian-section">
      <div class="container">
        <div class="aus-content">
          <img src="/assets/icons/kangaroo-illustration-3-svgrepo-com.svg" alt="Australian Made" class="kangaroo" />
          <div class="aus-text">
            <h2>Designed, engineered & manufactured in Australia</h2>
            <p>Every TruScreen blind is made locally, supporting Australian jobs and ensuring quality standards. Choose from six standard frame colours or specify custom powder coating. Select high-performance sunscreen mesh, privacy fabrics, or marine-grade PVC in clear or tinted options.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Colour Options (Simplified) -->
    <section class="colours-section">
      <div class="container">
        <h2>Frame colours</h2>
        <p class="colours-intro">Six standard Colourbond-inspired finishes, or custom powder coating to match your home.</p>
        <div class="colour-grid">
          <div class="colour"><div class="swatch" style="background: #000;"></div><span>Black</span></div>
          <div class="colour"><div class="swatch" style="background: #FFF; border: 1px solid #ddd;"></div><span>Snow White</span></div>
          <div class="colour"><div class="swatch" style="background: #F2EBDC;"></div><span>Classic Cream</span></div>
          <div class="colour"><div class="swatch" style="background: #8E8174;"></div><span>Paperbark</span></div>
          <div class="colour"><div class="swatch" style="background: #353535;"></div><span>Monument</span></div>
          <div class="colour"><div class="swatch" style="background: #4A4D49;"></div><span>Woodland Grey</span></div>
        </div>

        <h2>Fabric options</h2>
        <p class="colours-intro">40+ premium fabrics—sunscreen mesh, privacy weaves, and commercial PVC. All backed by a 10-year warranty.</p>
        <p class="view-samples"><a href="/contact" class="link-arrow">Request fabric samples →</a></p>
      </div>
    </section>

    <!-- Quote CTA -->
    <section class="quote-cta">
      <div class="container">
        <div class="cta-box">
          <h2>Get your free measure & quote</h2>
          <p>Our specialists will design the perfect outdoor blind solution for your space. No obligation, no hidden costs.</p>
          <form class="quote-form-simple" id="outdoorBlindsQuoteForm">
            <div class="form-row">
              <input type="text" name="name" placeholder="Your name*" required />
              <input type="tel" name="phone" placeholder="Phone number*" required />
              <input type="email" name="email" placeholder="Email*" required />
              <input type="text" name="suburb" placeholder="Suburb*" required />
            </div>
            <input type="hidden" name="product" value="outdoor-blinds" />
            <textarea name="message" rows="3" placeholder="Tell us about your project (optional)"></textarea>
            <button type="submit" class="btn btn-primary">Request Free Quote</button>
          </form>
        </div>
      </div>
    </section>

  </main>

  <Footer />
</Layout>

<style>
  /* Hero */
  .hero {
    position: relative;
    min-height: 500px;
    display: flex;
    align-items: center;
    color: var(--white);
    overflow: hidden;
  }

  .hero-image {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to right, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);
    z-index: 2;
  }

  .hero-container {
    position: relative;
    z-index: 3;
    padding: 3rem 1rem;
  }

  .hero h1 {
    font-size: clamp(2.5rem, 8vw, 4rem);
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.1;
  }

  .trademark {
    font-size: 0.4em;
    vertical-align: super;
  }

  .hero-lead {
    font-size: clamp(1.125rem, 3vw, 1.5rem);
    line-height: 1.5;
    max-width: 700px;
    margin-bottom: 2rem;
    opacity: 0.95;
  }

  .hero-stats {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .stat {
    display: flex;
    flex-direction: column;
  }

  .stat strong {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--white);
  }

  .stat span {
    font-size: 0.875rem;
    opacity: 0.9;
  }

  /* Intro */
  .intro-section {
    padding: 4rem 0;
    background: var(--white);
  }

  .intro-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .intro-content h2 {
    font-size: clamp(2rem, 5vw, 3rem);
    color: var(--olive-green);
    margin-bottom: 1.5rem;
    font-weight: 700;
  }

  .intro-content p {
    font-size: 1.125rem;
    line-height: 1.7;
    color: var(--black);
    margin-bottom: 1rem;
  }

  .intro-content p strong {
    color: var(--olive-green);
  }

  /* Feature Sections */
  .feature-section {
    padding: 4rem 0;
    background: var(--white);
  }

  .feature-section.alt {
    background: var(--cream);
  }

  .feature-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    align-items: center;
  }

  .feature-image-wrapper {
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }

  .feature-image-wrapper img {
    width: 100%;
    height: auto;
    display: block;
  }

  .feature-text h3 {
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: var(--olive-green);
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .feature-text p {
    font-size: 1.0625rem;
    line-height: 1.7;
    color: var(--black);
    margin-bottom: 1.5rem;
  }

  .feature-benefits {
    list-style: none;
    padding: 0;
  }

  .feature-benefits li {
    position: relative;
    padding-left: 2rem;
    margin-bottom: 0.75rem;
    font-size: 1rem;
    color: var(--black);
  }

  .feature-benefits li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--olive-green);
    font-weight: 700;
    font-size: 1.25rem;
  }

  /* Specs Grid */
  .specs-section {
    padding: 4rem 0;
    background: linear-gradient(135deg, var(--light-sage) 0%, var(--cream) 100%);
  }

  .specs-section h2 {
    font-size: clamp(2rem, 5vw, 3rem);
    color: var(--olive-green);
    text-align: center;
    margin-bottom: 3rem;
    font-weight: 700;
  }

  .specs-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .spec h4 {
    font-size: 1.25rem;
    color: var(--olive-green);
    margin-bottom: 0.5rem;
    font-weight: 700;
  }

  .spec p {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--black);
    opacity: 0.9;
  }

  /* Motorisation Callout */
  .motorisation-callout {
    padding: 4rem 0;
    background: var(--olive-green);
    color: var(--white);
  }

  .callout-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .callout-content h2 {
    font-size: clamp(2rem, 5vw, 3rem);
    margin-bottom: 1.5rem;
    font-weight: 700;
  }

  .callout-content p {
    font-size: 1.125rem;
    line-height: 1.7;
    opacity: 0.95;
  }

  /* Australian */
  .australian-section {
    padding: 4rem 0;
    background: var(--white);
  }

  .aus-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    align-items: center;
    max-width: 900px;
    margin: 0 auto;
  }

  .kangaroo {
    width: 100px;
    height: 100px;
    margin: 0 auto;
    filter: brightness(0) saturate(100%) invert(29%) sepia(14%) saturate(1158%) hue-rotate(52deg) brightness(95%) contrast(89%);
  }

  .aus-text h2 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    color: var(--olive-green);
    margin-bottom: 1rem;
    font-weight: 700;
    text-align: center;
  }

  .aus-text p {
    font-size: 1.0625rem;
    line-height: 1.7;
    color: var(--black);
    text-align: center;
  }

  /* Colours */
  .colours-section {
    padding: 4rem 0;
    background: var(--cream);
  }

  .colours-section h2 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    color: var(--olive-green);
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .colours-intro {
    font-size: 1rem;
    color: var(--black);
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  .colour-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 4rem;
    max-width: 600px;
  }

  .colour {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
  }

  .swatch {
    width: 100%;
    height: 80px;
    border-radius: var(--radius-sm);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .colour span {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--black);
  }

  .view-samples {
    margin-top: 1.5rem;
  }

  .link-arrow {
    color: var(--olive-green);
    font-weight: 600;
    font-size: 1.0625rem;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .link-arrow:hover {
    transform: translateX(4px);
    text-decoration: underline;
  }

  /* Quote CTA */
  .quote-cta {
    padding: 4rem 0;
    background: var(--white);
  }

  .cta-box {
    max-width: 700px;
    margin: 0 auto;
    padding: 3rem 2rem;
    background: linear-gradient(135deg, var(--light-sage) 0%, var(--cream) 100%);
    border-radius: var(--radius-lg);
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }

  .cta-box h2 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    color: var(--olive-green);
    margin-bottom: 0.75rem;
    font-weight: 700;
    text-align: center;
  }

  .cta-box > p {
    text-align: center;
    font-size: 1.0625rem;
    color: var(--black);
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  .quote-form-simple {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .quote-form-simple input,
  .quote-form-simple textarea {
    padding: 1rem;
    border: 2px solid transparent;
    border-radius: var(--radius-sm);
    font-size: 1rem;
    background: var(--white);
    transition: border-color 0.2s ease;
  }

  .quote-form-simple input:focus,
  .quote-form-simple textarea:focus {
    outline: none;
    border-color: var(--olive-green);
  }

  .quote-form-simple textarea {
    resize: vertical;
    min-height: 100px;
  }

  .quote-form-simple button {
    padding: 1rem 2rem;
    font-size: 1.0625rem;
    font-weight: 700;
  }

  /* Tablet */
  @media (min-width: 768px) {
    .hero {
      min-height: 600px;
    }

    .feature-grid {
      grid-template-columns: 1fr 1fr;
    }

    .feature-grid.reverse {
      direction: rtl;
    }

    .feature-grid.reverse > * {
      direction: ltr;
    }

    .specs-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .aus-content {
      grid-template-columns: 120px 1fr;
      text-align: left;
    }

    .kangaroo {
      margin: 0;
    }

    .aus-text h2,
    .aus-text p {
      text-align: left;
    }

    .colour-grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .form-row {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Desktop */
  @media (min-width: 1025px) {
    .hero {
      min-height: 700px;
    }

    .colour-grid {
      grid-template-columns: repeat(6, 1fr);
    }
  }
</style>

<script>
  import { captureFormData, initializeSessionTracking } from '../utils/formTracking';

  initializeSessionTracking();

  const quoteForm = document.getElementById('outdoorBlindsQuoteForm');
  if (quoteForm) {
    quoteForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const submitBtn = quoteForm.querySelector('button[type="submit"]') as HTMLButtonElement;
      const originalText = submitBtn?.textContent || '';
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'SUBMITTING...';
      }

      try {
        const formData = new FormData(quoteForm);
        const leadData = {
          name: formData.get('name') as string,
          email: formData.get('email') as string,
          phone: formData.get('phone') as string,
          suburb: formData.get('suburb') as string,
          product: 'outdoor-blinds',
          message: formData.get('message') as string || undefined,
        };

        const submission = captureFormData(leadData, 'outdoorBlindsQuoteForm', 'outdoor-blinds-page-form');

        const response = await fetch('/api/submit-lead', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(submission),
        });

        const result = await response.json();

        if (response.ok && result.success) {
          if (typeof gtag !== 'undefined') {
            gtag('event', 'generate_lead', {
              event_category: 'Form',
              event_label: 'outdoor-blinds',
              value: 1
            });
          }

          alert('Thank you! We\'ll contact you within 24 hours.');
          window.location.href = '/thank-you';
        } else {
          throw new Error(result.message || 'Submission failed');
        }
      } catch (error) {
        console.error('Form submission error:', error);
        alert('There was an error submitting your form. Please try calling us directly at 0448 243 979.');

        if (submitBtn) {
          submitBtn.disabled = false;
          submitBtn.textContent = originalText;
        }
      }
    });
  }
</script>
