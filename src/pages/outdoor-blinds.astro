---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export const prerender = true;
---

<Layout
  title="TruScreen® Outdoor Blinds Canberra | Australian Made Outdoor Blind System"
  description="TruScreen eliminates gaps, sagging, and deflection with Australia's most advanced outdoor blind system. Adjustable suspension, motorisation-ready, 5-year warranty. Free measure & quote."
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-image">
        <img
          src="/assets/images/outdoor-blinds/Outdoor Motorised Blinds.webp"
          alt="TruScreen Motorised Outdoor Blinds"
          loading="eager"
          fetchpriority="high"
        />
        <div class="hero-overlay"></div>
      </div>
      <div class="container hero-container">
        <h1>TruScreen<span class="trademark">®</span> Outdoor Blinds</h1>
        <p class="hero-lead">Australia's most advanced outdoor blind system—engineered to eliminate gaps, prevent sagging, and deliver flawless performance in any weather.</p>
        <div class="hero-stats">
          <div class="stat">
            <strong>50,000+</strong>
            <span>Happy Customers</span>
          </div>
          <div class="stat">
            <strong>5-Year</strong>
            <span>Product Warranty</span>
          </div>
          <div class="stat">
            <strong>10-Year</strong>
            <span>Fabric Warranty</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Intro Section -->
    <section class="intro-section">
      <div class="container">
        <div class="intro-content">
          <h2>The gap-free difference</h2>
          <p>Most patios aren't perfectly square. Traditional outdoor blinds leave visible gaps that installers patch with foam strips—a compromise that looks unprofessional and fails over time.</p>
          <p><strong>TruScreen's patented suspension system adapts to your structure</strong>, creating a seamless, professional fit without workarounds. It's proper engineering, not a quick fix.</p>
        </div>
      </div>
    </section>

    <!-- Image + Text Feature 1 -->
    <section class="feature-section">
      <div class="container">
        <div class="feature-grid">
          <div class="feature-image-wrapper">
            <img src="/assets/images/outdoor-blinds/Duel Channel Render.png" alt="TruScreen adaptive side channels" loading="lazy" />
          </div>
          <div class="feature-text">
            <h3>Adaptive side channels</h3>
            <p>Our flexible guide system automatically compensates for structures that aren't level or square. The channels adjust during installation to create tight, professional edges—no foam fillers, no gaps, no compromises.</p>
            <ul class="feature-benefits">
              <li>Accommodates structural irregularities</li>
              <li>Maintains constant fabric tension</li>
              <li>Eliminates unsightly gap fillers</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Image + Text Feature 2 (Reversed) -->
    <section class="feature-section alt">
      <div class="container">
        <div class="feature-grid reverse">
          <div class="feature-image-wrapper">
            <img src="/assets/images/outdoor-blinds/truscreen render.png" alt="TruScreen suspension technology" loading="lazy" />
          </div>
          <div class="feature-text">
            <h3>Impact-resistant suspension</h3>
            <p>Wind gusts and accidental bumps don't damage TruScreen blinds. Our integrated shock-absorption system allows the fabric to flex under pressure, then automatically return to position.</p>
            <ul class="feature-benefits">
              <li>Flexes with wind and impacts</li>
              <li>Self-recovering fabric system</li>
              <li>Protects your investment from damage</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Technical Information -->
    <section class="technical-section">
      <div class="container">
        <h2>A Truly Unique Blind System</h2>
        <div class="technical-grid">
          <div class="tech-item">
            <h4>Performance Under Pressure</h4>
            <p>The specially designed bottom bar minimizes movement even at wide widths, while the split bottom bar caps secure the zip more effectively for reliable performance.</p>
          </div>
          <div class="tech-item">
            <h4>Self Adjusting Track</h4>
            <p>The two separate channels allow for adjustable installation in any environment, accommodating structures that aren't perfectly level or square.</p>
          </div>
          <div class="tech-item">
            <h4>Suspension System</h4>
            <p>Optimized fabric polymer channels and tension polymer ensure optimal fabric tensions, providing the best solution for maintaining fabric stability at all times.</p>
          </div>
          <div class="tech-item">
            <h4>Rubber Ring</h4>
            <p>Reduces vibration from the motor and noise from the headbox, allowing for quiet operation and enhanced performance throughout the system's lifespan.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Combined Motorisation & Australian Made -->
    <section class="combined-info-section">
      <div class="blob-background">
        <svg class="blob blob-1" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path fill="rgba(255,255,255,0.15)" d="M44.7,-76.4C58.8,-69.2,71.8,-59.1,79.6,-45.8C87.4,-32.6,90,-16.3,88.5,-0.9C87,14.6,81.4,29.2,73.1,42.8C64.8,56.4,53.8,69,39.9,76.4C26,83.8,9.2,86,-7.3,86.2C-23.8,86.4,-47.6,84.6,-63.4,75.6C-79.2,66.6,-87,50.4,-89.7,33.8C-92.4,17.2,-90,0.2,-84.8,-14.9C-79.6,-30,-71.6,-43.2,-60.4,-52.4C-49.2,-61.6,-35.8,-66.8,-21.8,-73.8C-7.8,-80.8,6.8,-89.6,22.7,-91.2C38.6,-92.8,30.6,-83.6,44.7,-76.4Z" transform="translate(100 100)" />
        </svg>
        <svg class="blob blob-2" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path fill="rgba(255,255,255,0.1)" d="M39.5,-65.9C51.1,-58.3,60.3,-47.3,67.2,-34.8C74.1,-22.3,78.7,-8.3,78.8,5.9C78.9,20.1,74.5,34.5,66.3,46.3C58.1,58.1,46.1,67.3,32.8,72.8C19.5,78.3,4.9,80.1,-9.6,78.9C-24.1,77.7,-38.5,73.5,-50.8,65.3C-63.1,57.1,-73.3,45,-78.8,31.3C-84.3,17.6,-85.1,2.3,-81.9,-11.8C-78.7,-25.9,-71.5,-38.8,-61.2,-47.8C-50.9,-56.8,-37.5,-61.9,-24.4,-68.3C-11.3,-74.7,1.5,-82.4,15.1,-84.2C28.7,-86,27.9,-73.5,39.5,-65.9Z" transform="translate(100 100)" />
        </svg>
      </div>
      <div class="container">
        <div class="combined-grid">
          <div class="info-box motorisation">
            <h2>Built for effortless control</h2>
            <p>Whisper-quiet motors with smart home integration. Control via wall switch, remote, app, or voice (Google, Siri, Alexa).</p>
          </div>
          <div class="info-box australian-made">
            <img src="/assets/icons/kangaroo-illustration-3-svgrepo-com.svg" alt="Australian Made" class="kangaroo-icon" />
            <h2>Australian Made</h2>
            <p>Locally designed, engineered and manufactured. Six standard colours plus custom options. Premium fabrics from sunscreen mesh to marine-grade PVC.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Features List -->
    <section class="features-list-section">
      <div class="container">
        <h2>· FEATURES ·</h2>
        <div class="features-list">
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
            <span>Obstacle Detection Motor</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
            <span>Motor and Manual Crank available</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
            <span>Blocks sunlight and UV rays, enhancing indoor energy efficiency</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
            <span>Maximizes usable space</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
            <span>6 Standard Colors and span width up to 6M</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
            <span>Australian Made</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Frame & Headbox Colour -->
    <section class="colours-section">
      <div class="container">
        <h2>Frame & Headbox Colours</h2>
        <p class="colours-intro"><strong>All profiles are high grade aluminium.</strong> 6 standard colours with non-standard colours available. Scratch Resistant Dulux Powdercoated ALUMINIUM 6063, CLOSED HEADBOX & GUIDES.</p>
        <div class="colour-grid">
          <div class="colour"><div class="swatch" style="background: #000;"></div><span>Black</span></div>
          <div class="colour"><div class="swatch" style="background: #FFF; border: 1px solid #ddd;"></div><span>Snow White</span></div>
          <div class="colour"><div class="swatch" style="background: #F2EBDC;"></div><span>Classic Cream</span></div>
          <div class="colour"><div class="swatch" style="background: #8E8174;"></div><span>Paperbark</span></div>
          <div class="colour"><div class="swatch" style="background: #353535;"></div><span>Monument</span></div>
          <div class="colour"><div class="swatch" style="background: #4A4D49;"></div><span>Woodland Grey</span></div>
        </div>

        <h2>Fabric options</h2>
        <p class="colours-intro">40+ premium fabrics—sunscreen mesh, privacy weaves, and commercial PVC. All backed by a 10-year warranty.</p>
        <p class="view-samples"><a href="/contact" class="link-arrow">Request fabric samples →</a></p>
      </div>
    </section>

    <!-- Quote CTA -->
    <section class="quote-cta">
      <div class="container">
        <div class="cta-box">
          <h2>Get your free measure & quote</h2>
          <p>Our specialists will design the perfect outdoor blind solution for your space. No obligation, no hidden costs.</p>
          <form class="quote-form-simple" id="outdoorBlindsQuoteForm">
            <div class="form-row">
              <input type="text" name="name" placeholder="Your name*" required />
              <input type="tel" name="phone" placeholder="Phone number*" required />
              <input type="email" name="email" placeholder="Email*" required />
              <input type="text" name="suburb" placeholder="Suburb*" required />
            </div>
            <input type="hidden" name="product" value="outdoor-blinds" />
            <textarea name="message" rows="3" placeholder="Tell us about your project (optional)"></textarea>
            <button type="submit" class="btn btn-primary">Request Free Quote</button>
          </form>
        </div>
      </div>
    </section>

  </main>

  <Footer />
</Layout>

<style>
  /* Hero */
  .hero {
    position: relative;
    min-height: 500px;
    display: flex;
    align-items: center;
    color: var(--white);
    overflow: hidden;
  }

  .hero-image {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to right, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);
    z-index: 2;
  }

  .hero-container {
    position: relative;
    z-index: 3;
    padding: 3rem 1rem;
  }

  .hero h1 {
    font-size: clamp(2.5rem, 8vw, 4rem);
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.1;
  }

  .trademark {
    font-size: 0.4em;
    vertical-align: super;
  }

  .hero-lead {
    font-size: clamp(1.125rem, 3vw, 1.5rem);
    line-height: 1.5;
    max-width: 700px;
    margin-bottom: 2rem;
    opacity: 0.95;
  }

  .hero-stats {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .stat {
    display: flex;
    flex-direction: column;
  }

  .stat strong {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--white);
  }

  .stat span {
    font-size: 0.875rem;
    opacity: 0.9;
  }

  /* Intro */
  .intro-section {
    padding: 4rem 0;
    background: var(--white);
  }

  .intro-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .intro-content h2 {
    font-size: clamp(2rem, 5vw, 3rem);
    color: var(--olive-green);
    margin-bottom: 1.5rem;
    font-weight: 700;
  }

  .intro-content p {
    font-size: 1.125rem;
    line-height: 1.7;
    color: var(--black);
    margin-bottom: 1rem;
  }

  .intro-content p strong {
    color: var(--olive-green);
  }

  /* Feature Sections */
  .feature-section {
    padding: 4rem 0;
    background: var(--white);
  }

  .feature-section.alt {
    background: var(--cream);
  }

  .feature-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    align-items: center;
  }

  .feature-image-wrapper {
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }

  .feature-image-wrapper img {
    width: 100%;
    height: auto;
    display: block;
  }

  .feature-text h3 {
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: var(--olive-green);
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .feature-text p {
    font-size: 1.0625rem;
    line-height: 1.7;
    color: var(--black);
    margin-bottom: 1.5rem;
  }

  .feature-benefits {
    list-style: none;
    padding: 0;
  }

  .feature-benefits li {
    position: relative;
    padding-left: 2rem;
    margin-bottom: 0.75rem;
    font-size: 1rem;
    color: var(--black);
  }

  .feature-benefits li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--olive-green);
    font-weight: 700;
    font-size: 1.25rem;
  }

  /* Technical Information */
  .technical-section {
    padding: 4rem 0;
    background: linear-gradient(135deg, var(--light-sage) 0%, var(--cream) 100%);
  }

  .technical-section h2 {
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: var(--olive-green);
    text-align: center;
    margin-bottom: 3rem;
    font-weight: 700;
    letter-spacing: 2px;
  }

  .technical-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .tech-item h4 {
    font-size: 1.25rem;
    color: var(--olive-green);
    margin-bottom: 0.5rem;
    font-weight: 700;
  }

  .tech-item p {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--black);
    opacity: 0.9;
  }

  /* Features List */
  .features-list-section {
    padding: 4rem 0;
    background: var(--white);
  }

  .features-list-section h2 {
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: var(--olive-green);
    text-align: center;
    margin-bottom: 2.5rem;
    font-weight: 700;
    letter-spacing: 2px;
  }

  .features-list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.25rem;
    max-width: 800px;
    margin: 0 auto;
  }

  .feature-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    background: var(--cream);
    border-radius: var(--radius-sm);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .feature-item:hover {
    transform: translateX(4px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .feature-item svg {
    flex-shrink: 0;
    color: var(--olive-green);
    margin-top: 2px;
  }

  .feature-item span {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--black);
  }

  /* Combined Info Section */
  .combined-info-section {
    position: relative;
    padding: 4rem 0;
    background: linear-gradient(135deg, var(--olive-green) 0%, #3d4a29 100%);
    overflow: hidden;
  }

  .blob-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 0;
  }

  .blob {
    position: absolute;
    opacity: 1;
    width: 500px;
    height: 500px;
  }

  .blob-1 {
    top: -100px;
    left: -50px;
    animation: float 20s ease-in-out infinite;
  }

  .blob-2 {
    bottom: -100px;
    right: -50px;
    animation: float 25s ease-in-out infinite reverse;
  }

  @keyframes float {
    0%, 100% {
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    33% {
      transform: translate(30px, -30px) rotate(120deg) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) rotate(240deg) scale(0.9);
    }
  }

  .combined-grid {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .info-box {
    color: var(--white);
  }

  .info-box h2 {
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: var(--white);
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .info-box p {
    font-size: 1.0625rem;
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.95);
  }

  .kangaroo-icon {
    width: 80px;
    height: 80px;
    margin-bottom: 1rem;
    filter: brightness(0) saturate(100%) invert(100%);
  }

  /* Colours */
  .colours-section {
    padding: 4rem 0;
    background: var(--cream);
  }

  .colours-section h2 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    color: var(--olive-green);
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .colours-intro {
    font-size: 1rem;
    color: var(--black);
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  .colour-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 4rem;
    max-width: 600px;
  }

  .colour {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
  }

  .swatch {
    width: 100%;
    height: 80px;
    border-radius: var(--radius-sm);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .colour span {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--black);
  }

  .view-samples {
    margin-top: 1.5rem;
  }

  .link-arrow {
    color: var(--olive-green);
    font-weight: 600;
    font-size: 1.0625rem;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .link-arrow:hover {
    transform: translateX(4px);
    text-decoration: underline;
  }

  /* Quote CTA */
  .quote-cta {
    padding: 4rem 0;
    background: var(--white);
  }

  .cta-box {
    max-width: 700px;
    margin: 0 auto;
    padding: 3rem 2rem;
    background: linear-gradient(135deg, var(--light-sage) 0%, var(--cream) 100%);
    border-radius: var(--radius-lg);
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }

  .cta-box h2 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    color: var(--olive-green);
    margin-bottom: 0.75rem;
    font-weight: 700;
    text-align: center;
  }

  .cta-box > p {
    text-align: center;
    font-size: 1.0625rem;
    color: var(--black);
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  .quote-form-simple {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .quote-form-simple input,
  .quote-form-simple textarea {
    padding: 1rem;
    border: 2px solid transparent;
    border-radius: var(--radius-sm);
    font-size: 1rem;
    background: var(--white);
    transition: border-color 0.2s ease;
  }

  .quote-form-simple input:focus,
  .quote-form-simple textarea:focus {
    outline: none;
    border-color: var(--olive-green);
  }

  .quote-form-simple textarea {
    resize: vertical;
    min-height: 100px;
  }

  .quote-form-simple button {
    padding: 1rem 2rem;
    font-size: 1.0625rem;
    font-weight: 700;
  }

  /* Tablet */
  @media (min-width: 768px) {
    .hero {
      min-height: 600px;
    }

    .feature-grid {
      grid-template-columns: 1fr 1fr;
    }

    .feature-grid.reverse {
      direction: rtl;
    }

    .feature-grid.reverse > * {
      direction: ltr;
    }

    .technical-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .features-list {
      grid-template-columns: repeat(2, 1fr);
    }

    .combined-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
      align-items: start;
    }

    .info-box.motorisation {
      grid-column: 1;
      align-self: start;
    }

    .info-box.australian-made {
      grid-column: 2;
      margin-top: 3rem;
    }

    .colour-grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .form-row {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Desktop */
  @media (min-width: 1025px) {
    .hero {
      min-height: 700px;
    }

    .colour-grid {
      grid-template-columns: repeat(6, 1fr);
    }
  }
</style>

<script>
  import { captureFormData, initializeSessionTracking } from '../utils/formTracking';

  initializeSessionTracking();

  const quoteForm = document.getElementById('outdoorBlindsQuoteForm');
  if (quoteForm) {
    quoteForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const submitBtn = quoteForm.querySelector('button[type="submit"]') as HTMLButtonElement;
      const originalText = submitBtn?.textContent || '';
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'SUBMITTING...';
      }

      try {
        const formData = new FormData(quoteForm);
        const leadData = {
          name: formData.get('name') as string,
          email: formData.get('email') as string,
          phone: formData.get('phone') as string,
          suburb: formData.get('suburb') as string,
          product: 'outdoor-blinds',
          message: formData.get('message') as string || undefined,
        };

        const submission = captureFormData(leadData, 'outdoorBlindsQuoteForm', 'outdoor-blinds-page-form');

        const response = await fetch('/api/submit-lead', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(submission),
        });

        const result = await response.json();

        if (response.ok && result.success) {
          if (typeof gtag !== 'undefined') {
            gtag('event', 'generate_lead', {
              event_category: 'Form',
              event_label: 'outdoor-blinds',
              value: 1
            });
          }

          alert('Thank you! We\'ll contact you within 24 hours.');
          window.location.href = '/thank-you';
        } else {
          throw new Error(result.message || 'Submission failed');
        }
      } catch (error) {
        console.error('Form submission error:', error);
        alert('There was an error submitting your form. Please try calling us directly at 0448 243 979.');

        if (submitBtn) {
          submitBtn.disabled = false;
          submitBtn.textContent = originalText;
        }
      }
    });
  }
</script>
