---
import config from '../../config.json';

interface Props {
  title: string;
  description: string;
  canonical?: string;
  ogImage?: string;
  ogType?: string;
  noindex?: boolean;
}

const {
  title,
  description,
  canonical = Astro.url.href,
  ogImage = '/assets/images/general/Modern Home All Seasons Living.jpg',
  ogType = 'website',
  noindex = false
} = Astro.props;

const siteName = 'All Seasons Living';
const fullTitle = `${title} | ${siteName}`;

// Structured Data for Local Business
const localBusinessSchema = {
  '@context': 'https://schema.org',
  '@type': 'LocalBusiness',
  '@id': 'https://allseasonsliving.com.au',
  name: 'All Seasons Living',
  image: 'https://allseasonsliving.com.au/assets/images/general/All Seasons Living SVG Logo.svg',
  description: 'Canberra\'s trusted outdoor living specialists. Premium artificial lawn, roller shutters, outdoor blinds, and plantation shutters.',
  url: 'https://allseasonsliving.com.au',
  telephone: config.contact.phone.replace(/\s/g, ''),
  email: config.contact.email,
  address: {
    '@type': 'PostalAddress',
    addressLocality: 'Canberra',
    addressRegion: 'ACT',
    addressCountry: 'AU'
  },
  geo: {
    '@type': 'GeoCoordinates',
    latitude: -35.2809,
    longitude: 149.1300
  },
  priceRange: '$$',
  areaServed: [
    {
      '@type': 'City',
      name: 'Canberra'
    },
    {
      '@type': 'State',
      name: 'Australian Capital Territory'
    }
  ],
  openingHoursSpecification: [
    {
      '@type': 'OpeningHoursSpecification',
      dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
      opens: '08:00',
      closes: '17:00'
    }
  ],
  sameAs: [
    // Add your social media URLs here when available
    // 'https://www.facebook.com/allseasonslivingau,
    // 'https://www.instagram.com/allseasonslivingau'
  ]
};

// Organization Schema
const organizationSchema = {
  '@context': 'https://schema.org',
  '@type': 'Organization',
  name: 'All Seasons Living',
  legalName: 'All Seasons Living Australia Pty Ltd',
  url: 'https://allseasonsliving.com.au',
  logo: 'https://allseasonsliving.com.au/assets/images/general/All Seasons Living SVG Logo.svg',
  contactPoint: {
    '@type': 'ContactPoint',
    telephone: config.contact.phone.replace(/\s/g, ''),
    contactType: 'Customer Service',
    email: config.contact.email,
    areaServed: 'AU',
    availableLanguage: 'English'
  }
};
---

<!-- Essential Meta Tags -->
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
<meta name="description" content={description} />
{noindex && <meta name="robots" content="noindex, nofollow" />}

<!-- Canonical URL -->
<link rel="canonical" href={canonical} />

<!-- Open Graph / Facebook -->
<meta property="og:type" content={ogType} />
<meta property="og:url" content={canonical} />
<meta property="og:title" content={fullTitle} />
<meta property="og:description" content={description} />
<meta property="og:image" content={new URL(ogImage, Astro.site).href} />
<meta property="og:site_name" content={siteName} />
<meta property="og:locale" content="en_AU" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content={canonical} />
<meta name="twitter:title" content={fullTitle} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={new URL(ogImage, Astro.site).href} />

<!-- Additional SEO -->
<meta name="theme-color" content="#54653d" />
<meta name="format-detection" content="telephone=yes" />

<!-- Geo Tags for Local SEO -->
<meta name="geo.region" content="AU-ACT" />
<meta name="geo.placename" content="Canberra" />
<meta name="geo.position" content="-35.2809;149.1300" />
<meta name="ICBM" content="-35.2809, 149.1300" />

<!-- Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(localBusinessSchema)} />
<script type="application/ld+json" set:html={JSON.stringify(organizationSchema)} />

<!-- Title -->
<title>{fullTitle}</title>
